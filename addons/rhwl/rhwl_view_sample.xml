<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="sale_sample_tree">
            <field name="name">sale.sample.tree</field>
            <field name="model">sale.sampleone</field>
            <field name="arch" type="xml">
                <tree string="Sample Information">
                    <field name="name"/>
                    <field name="sampletype"/>
                    <field name="receiv_user"/>
                    <field name="is_reused"/>
                    <field name="is_free"/>
                    <field name="check_state"/>
                    <field name="state_id"/>
                    <field name="city_id"/>
                    <field name="lyyy"/>
                    <field name="lyys"/>
                    <field name="cxyy"/>
                    <field name="cxys"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="sale_sample_reuse_tree">
            <field name="name">Again Blood</field>
            <field name="model">sale.sampleone.reuse</field>
            <field name="arch" type="xml">
                <tree string="Sale Sampleone">
                    <field name="name"/>
                    <field name="yfxm"/>
                    <field name="cx_date"/>
                    <field name="yfage"/>
                    <field name="yfyzweek"/>
                    <field name="yftelno"/>
                    <field name="cxys"/>
                    <field name="notice_user"/>
                    <field name="notice_date"/>
                    <field name="reuse_note"/>
                    <field name="newname"/>
                    <field name="note"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="sale_sample_exception_tree">
            <field name="name">sale.sample.exception.tree</field>
            <field name="model">sale.sampleone.exception</field>
            <field name="arch" type="xml">
                <tree string="Sale Sampleone">
                    <field name="name"/>
                    <field name="yfxm"/>
                    <field name="cx_date"/>
                    <field name="yfage"/>
                    <field name="yfyzweek"/>
                    <field name="yftelno"/>
                    <field name="cxys"/>
                    <field name="lib_notice"/>
                    <field name="cs_notice"/>
                    <field name="notice_user"/>
                    <field name="notice_date"/>
                    <field name="fz_user"/>
                    <field name="is_notice"/>
                    <field name="is_take"/>
                    <field name="is_next"/>
                    <field name="next_date"/>
                    <field name="next_hospital"/>
                    <field name="next_result"/>
                    <field name="is_equal"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="sale_sample_form">
            <field name="name">sale.sample.form</field>
            <field name="model">sale.sampleone</field>
            <field name="arch" type="xml">
                <form string="Sale Sample">
                    <header>
                        <button name="action_done" states="draft" string="确认" type="object"
                                groups="base.group_user" class="oe_highlight"/>
                        <button name="action_cancel" states="draft" string="取消" type="object"
                                groups="base.group_user"/>
                        <button name="action_check_ok" states="done" string="检验结果正常" type="object"
                                groups="base.group_user"/>
                        <button name="action_check_reused" states="done" string="需重采血" type="object"
                                groups="base.group_user" class="oe_highlight"/>
                        <button name="action_check_except" states="done" string="检验结果阳性" type="object"
                                groups="base.group_user" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done,cancel"
                               statusbar_colors='{"cancel":"red","done":"blue"}' readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" on_change="onchange_check_sample(name)"/>
                                <field name="sampletype"/>
                                <label for="cx_date" string="采血日期"/>
                                <div class="address_format">
                                    <field name="cx_date" style="width: 50%"/>
                                    <label for="cx_time" string="时间" class="oe_form_field" style="width: 20%"/>
                                    <field name="cx_time" style="width: 30%"/>
                                </div>
                                <field name="is_reused" on_change="onchange_reused(is_reused,sampletype)"/>
                                <field name="reuse_type"
                                       attrs="{'required':[('is_reused','=','1')],'invisible':[('is_reused','&lt;&gt;','1')]}"/>
                                <field name="reuse_name"
                                       attrs="{'required':[('is_reused','=','1')],'invisible':[('is_reused','&lt;&gt;','1')]}"/>
                                <field name="is_free" colspan='2'/>
                            </group>
                            <group>
                                <field name="receiv_user"/>
                                <field name="state_id"/>
                                <field name="city_id"/>
                                <field name="lyyy" on_change="onchange_lyyy()"/>
                                <field name="lyys" on_change="onchange_ys(lyyy,cxyy,lyys,'cxys')"/>
                                <field name="cxyy" on_change="onchange_cxyy()"/>
                                <field name="cxys" on_change="onchange_ys(lyyy,cxyy,cxys,'lyys')"/>
                                <field name="fzr"/>
                            </group>
                        </group>

                        <notebook>
                            <page string="孕妇信息">
                                <group col="8">
                                    <group>

                                        <field name="yfxm"/>
                                        <label for="yfyzweek" string="孕周"/>
                                        <div class="address_format">
                                            <field name="yfyzweek" class="oe_align_right oe_inline"
                                                   style="width: 20%%"/>
                                            <label string="周" style="width: 10%%" class="oe_form_field"/>
                                            <field name="yfyzday" class="oe_align_right oe_inline" style="width: 20%%"/>
                                            <label string="天" style="width: 10%%" class="oe_form_field"/>
                                        </div>
                                        <label for="yfzjmc" string="证件名称"/>
                                        <div>
                                            <field name="yfzjmc" width="90"/>
                                            <field name="yfzjmc_no" placeholder="请输入证件号码"
                                                   on_change="onchange_zjmcno(yfzjmc_no,yfzjmc)"/>
                                        </div>

                                        <field name="yfage"/>
                                        <field name="yflastyj"/>
                                        <field name="yfyjzq"/>
                                    </group>
                                    <group>
                                        <field name="yfheight"/>
                                        <field name="yfweight"/>
                                        <field name="yffqage"/>
                                        <field name="yftelno"/>
                                        <field name="yfjjlltel"/>
                                        <field name="yfpostaddr"/>
                                        <field name="yfpostno"/>
                                    </group>
                                </group>
                            </page>
                            <page string="孕产史">
                                <group>
                                    <group>
                                        <field name="yfycount"/>
                                        <field name="yfzcount"/>
                                    </group>
                                    <group>
                                        <label for="yfblycs" string="不良孕产史"/>
                                        <div>
                                            <field name="yfblycs"/>
                                            <field name="yfblycstext" placeholder="不良孕产史说明"
                                                   attrs="{'invisible':[('yfblycs','!=','1')]}"/>
                                        </div>
                                        <label for="yffqsfrsthx" string="家族遗传病"/>
                                        <div>
                                            <field name="yffqsfrsthx"/>
                                            <field name="yffqsfrsthxtext" placeholder="家族遗传病说明"
                                                   attrs="{'invisible':[('yffqsfrsthx','!=','1')]}"/>
                                        </div>
                                        <label for="yfjzycb" string="夫妻双方染色体核型"/>
                                        <div>
                                            <field name="yfjzycb"/>
                                            <field name="yfjzycbtext" placeholder="夫妻双方染色体核型说明"
                                                   attrs="{'invisible':[('yfjzycb','!=','1')]}"/>
                                        </div>

                                    </group>
                                </group>
                            </page>
                            <page string="产前检查">
                                <group>
                                    <group>
                                        <label for="yfyczk" string="孕娠状况"/>
                                        <div>
                                            <field name="yfyczk"/>
                                            <field name="yfyczktext" placeholder="孕娠状况其它说明"
                                                   attrs="{'invisible':[('yfyczk','!=','3')]}"/>
                                        </div>

                                        <field name="yfissgyr"/>
                                        <label for="yfcsjc" string="超声检查"/>
                                        <div>
                                            <field name="yfcsjc"/>
                                            <field name="yfcsjctext" placeholder="超声检查异常说明"
                                                   attrs="{'invisible':[('yfcsjc','!=','1')]}"/>
                                        </div>


                                    </group>
                                    <group>
                                        <label for="yfxqsc" string="血清筛查"/>
                                        <div>
                                            <field name="yfxqsc"/>
                                            <field name="yfxqsctext" placeholder="血清筛查风险提示"
                                                   attrs="{'invisible':[('yfxqsc','!=','1')]}"/>
                                        </div>

                                        <field name="yfyyjrxccss"/>
                                        <field name="yfyyjrxccssdate" attrs="{'invisible':[('yfyyjrxccss','!=','1')]}"/>
                                    </group>
                                </group>
                            </page>
                            <page string="其它信息">
                                <group>
                                    <group>
                                        <label for="yfxbzl" string="细胞治疗"/>
                                        <div>
                                            <field name="yfxbzl"/>
                                            <field name="yfxbzltext" placeholder="细胞治疗说明"
                                                   attrs="{'invisible':[('yfxbzl','!=','1')]}"/>
                                        </div>


                                        <field name="yftsqkbz"/>
                                    </group>
                                    <group>
                                        <label for="yfzlfz" string="肿瘤患者"/>
                                        <div>
                                            <field name="yfzlfz"/>
                                            <field name="yfzlfztext" placeholder="肿瘤患者说明"
                                                   attrs="{'invisible':[('yfzlfz','!=','1')]}"/>
                                        </div>
                                        <label for="yfynnytsx" string="一年内异体输血"/>
                                        <div>
                                            <field name="yfynnytsx"/>
                                            <field name="yfynnytsxtext" placeholder="一年内异体输血说明"
                                                   attrs="{'invisible':[('yfynnytsx','!=','1')]}"/>
                                        </div>


                                    </group>
                                </group>
                            </page>
                            <page string="备注">
                                <field name="note"/>
                            </page>
                        </notebook>

                    </sheet>
                    <footer>
                        <field name="check_state" widget="statusbar"
                               statusbar_colors='{"需重采血":"red","检验结果阳性":"red","检验结果正常":"blue"}' readonly="1"/>
                    </footer>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sale_sample_reuse_form">
            <field name="name">sale.sample.reuse.form</field>
            <field name="model">sale.sampleone.reuse</field>
            <field name="arch" type="xml">
                <form string="Sale Sample">
                    <header>
                        <button name="action_done" states="draft" string="已通知" type="object"
                                groups="base.group_user" class="oe_highlight"/>
                        <button name="action_cancel" states="done" string="孕妇放弃" type="object"
                                groups="base.group_user" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done,cancel"
                               statusbar_colors='{"cancel":"red","done":"blue"}' readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" attrs="{'readonly':True}"/>
                                <field name="yfxm"/>
                                <field name="cx_date"/>
                                <field name="yfage"/>
                                <field name="yfyzweek"/>
                                <field name="newname"/>
                            </group>
                            <group>
                                <field name="yftelno"/>
                                <field name="cxys"/>
                                <field name="notice_user"/>
                                <field name="notice_date"/>
                                <field name="reuse_note"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="孕妇说明及备注">
                                <field name="note"/>
                            </page>

                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sale_sample_exception_form">
            <field name="name">sale.sample.exception.form</field>
            <field name="model">sale.sampleone.exception</field>
            <field name="arch" type="xml">
                <form string="Sale Sample">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done,cancel"
                               statusbar_colors='{"cancel":"red","done":"blue"}' readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" attrs="{'readonly':True}"/>
                                <field name="yfxm"/>
                                <field name="cx_date"/>
                                <field name="yfage"/>
                                <field name="yfyzweek"/>
                                <field name="yftelno"/>
                                <field name="cxys"/>
                                <field name="lib_notice"/>
                                <field name="cs_notice"/>
                                <field name="notice_user"/>
                                <field name="notice_date"/>
                            </group>
                            <group>
                                <field name="fz_user"/>
                                <field name="is_notice"/>
                                <field name="is_take"/>
                                <field name="is_next"/>
                                <field name="next_date"/>
                                <field name="next_hospital"/>
                                <field name="next_result"/>
                                <field name="is_equal"/>
                            </group>

                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sale_sample_search">
            <field name="name">sale.sample.search</field>
            <field name="model">sale.sampleone</field>
            <field name="arch" type="xml">
                <search string="Sale Sample">
                    <field name="name"/>
                    <field name="sampletype"/>
                    <seperaotr/>
                    <filter string="首次采血" name="type_reuse1" domain="[('is_reused','=','0')]"/>
                    <filter string="重采血" name="type_reuse2" domain="[('is_reused','=','1')]"/>
                    <separator/>
                    <filter string="免费" name="type_reuse3" domain="[('is_free','=','1')]"/>
                    <filter string="收费" name="type_reuse4" domain="[('is_free','=','0')]"/>
                    <group expand="0" string="分组">
                        <filter string="收样人员" icon="terp-partner" domain="[]" context="{'group_by':'receiv_user'}"/>
                        <filter string="样品区域(省)" icon="terp-partner" domain="[]" context="{'group_by':'state_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="sale_sample_reuse_search">
            <field name="name">sale.sample.reuse.search</field>
            <field name="model">sale.sampleone.reuse</field>
            <field name="arch" type="xml">
                <search string="Sale Sample">
                    <field name="name" string="Sample NO"/>
                    <field name="notice_user"/>
                    <seperaotr/>
                    <group expand="0" string="Group By...">
                        <filter string="Notice User" icon="terp-partner" domain="[]"
                                context="{'group_by':'notice_user'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="sale_sample_exception_search">
            <field name="name">sale.sample.exception.search</field>
            <field name="model">sale.sampleone.exception</field>
            <field name="arch" type="xml">
                <search string="Sale Sample">
                    <field name="name" string="Sample NO"/>
                    <field name="notice_user"/>
                    <seperaotr/>
                    <group expand="0" string="Group By...">
                        <filter string="Notice User" icon="terp-partner" domain="[]"
                                context="{'group_by':'notice_user'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_sale_sample" model="ir.actions.act_window">
            <field name="name">Sample Information</field>
            <field name="res_model">sale.sampleone</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                </p>
                <p>
                    Click to start creating a new
                </p>
            </field>
        </record>

        <record id="action_sale_sample_reuse" model="ir.actions.act_window">
            <field name="name">Again Blood</field>
            <field name="res_model">sale.sampleone.reuse</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                </p>
                <p>
                    Click to start creating a new
                </p>
            </field>
        </record>
        <record id="action_sale_sample_exception" model="ir.actions.act_window">
            <field name="name">Excep Information</field>
            <field name="res_model">sale.sampleone.exception</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                </p>
                <p>
                    Click to start creating a new
                </p>
            </field>
        </record>
        <menuitem id="menu_sale_sample" parent="base.menu_sales" name="Sample Information" sequence="10"
                  action='action_sale_sample' groups="base.group_sale_salesman"/>
        <menuitem id="menu_sale_sample_reuse" parent="base.menu_sales" name="Again Blood" sequence="11"
                  action='action_sale_sample_reuse' groups="base.group_sale_salesman"/>
        <menuitem id="menu_sale_sample_exception" parent="base.menu_sales" name="Excep Information" sequence="12"
                  action='action_sale_sample_exception' groups="base.group_sale_salesman"/>
    </data>
</openerp>